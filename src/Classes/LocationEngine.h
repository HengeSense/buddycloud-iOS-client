//
//  LocationEngine.h
//  Buddycloud
//
//  Created by Ross Savage on 4/7/10.
//  Copyright 2010 buddycloud. All rights reserved.
//

#import <Foundation/Foundation.h>
#import <CoreLocation/CoreLocation.h>

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
#pragma mark Public LocationEngine definition
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

@interface LocationEngine : NSObject <CLLocationManagerDelegate> {
	CLLocationManager *locationManager;
	
	id delegate;
	NSTimer *timer;
}

- (LocationEngine *)initWithLocDelegate:(id)delegate;

- (void)startReceivingLocation;
- (void)stopReceivingLocation;

@end

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
#pragma mark Private LocationEngine definition
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

@interface LocationEngine (PrivateAPI)

- (void)handleLocationUpdate;
- (void)handleLocationUpdateWithLocation:(CLLocation *)location;

@end
	
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
#pragma mark LocationEngine Delegate definition
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

@protocol LocationEngineDelegate
@required

- (void)LocationEngine:(LocationEngine *)sender didReceiveLocation:(CLLocation *)location;

@end
