//
//  DatabaseAccess.h
//  Buddycloud
//
//  Created by Ross Savage on 5/18/10.
//  Copyright 2010 buddycloud. All rights reserved.
//

#import <Foundation/Foundation.h>
#import "sqlite3.h"

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
#pragma mark Public DatabaseAccess definition
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

@interface DatabaseAccess : NSObject {
	sqlite3 *db;
	
	int dbVersion;
}

@property(nonatomic) int dbVersion;

- (id)initWithDatabaseName:(NSString *)fileName;

- (BOOL)isDatabaseOpen;

@end

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
#pragma mark Private DatabaseAccess definition
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

@interface DatabaseAccess (PrivateAPI)

- (NSString *)dbFilePathFromName:(NSString *)fileName;
- (BOOL)checkAndCreateDatabase:(NSString *)databasePath;

@end
